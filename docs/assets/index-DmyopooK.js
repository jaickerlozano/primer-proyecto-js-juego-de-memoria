(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))a(t);new MutationObserver(t=>{for(const n of t)if(n.type==="childList")for(const l of n.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&a(l)}).observe(document,{childList:!0,subtree:!0});function c(t){const n={};return t.integrity&&(n.integrity=t.integrity),t.referrerPolicy&&(n.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?n.credentials="include":t.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function a(t){if(t.ep)return;t.ep=!0;const n=c(t);fetch(t.href,n)}})();const j=()=>`rgb(${Math.floor(Math.random()*255)}, ${Math.floor(Math.random()*255)}, ${Math.floor(Math.random()*255)})`,J=o=>{const e=new Set;for(;e.size<o;)e.add(j());return[...e]},g=(o,e)=>{o.style.background=e},z=()=>document.querySelectorAll(".cartas");let C,y,L=0,p=!1;const $=document.getElementById("display"),M=document.getElementById("startStop");document.getElementById("reset");function A(o){const e=Math.floor(o/1e3),c=String(Math.floor(e/60)).padStart(2,"0"),a=String(e%60).padStart(2,"0"),t=String(o%1e3).padStart(3,"0");return`${c}:${a}:${t}`}function H(){const e=Date.now()-y+L;$.textContent=A(e)}function x(){p?(clearInterval(C),L+=Date.now()-y,M.textContent="Iniciar"):(y=Date.now(),C=setInterval(H,10),M.textContent="Detener"),p=!p}function B(){clearInterval(C),p=!1,L=0,$.textContent="00:00:00"}let v=!1;const N=()=>v,k=()=>{v=!0},w=()=>{v=!1};let f=[],E;const q=()=>{f=z();const o=[...f],e="rgb(51, 51, 51)",c=J(15);let a=new Set,t=new Set,n=new Set,l=0,i="",u="",b=Date.now();const m=document.createElement("ul");m.textContent="Parejas encontradas:",document.querySelector(".container").after(m);const h=document.createElement("p");h.classList.add("contador"),m.before(h),f.forEach(d=>{let s;if(a.size<15){do s=Math.floor(Math.random()*15+1);while(a.has(s));a.add(s)}else{do s=Math.floor(Math.random()*15+1);while(t.has(s));t.add(s)}d.classList.add(`par${s}`),g(d,e)}),E=function(){if(this.classList.contains("turnedCard")||N())return;const d=[...this.classList].find(r=>r.startsWith("par")),s=parseInt(d.replace("par",""))-1,P=c[s];if(g(this,P),this.textContent=`${s+1}`,this.classList.add("turnedCard"),!i)i=d;else if(u=d,k(),i===u){const r=document.createElement("li");if(r.classList.add("mensaje"),r.textContent=`Has encontrado el par de cartas ${i.replace("par","")}`,m.appendChild(r),n.add(i),l++,h.textContent=`Total encontradas: ${l}`,n.size===15){x();const O=Date.now(),T=Math.floor((O-b)/1e3);alert(`ðŸŽ‰Â¡Ganaste! Tiempo: ${T} segundos`)}i="",u="",w()}else setTimeout(()=>{o.forEach(r=>{(r.classList.contains(i)||r.classList.contains(u))&&!n.has(r.classList[1])&&(g(r,e),r.textContent="",r.classList.remove("turnedCard"))}),i="",u="",w()},500)}};function F(){f.forEach(o=>{o.addEventListener("click",E)})}function S(){f.forEach(o=>{o.removeEventListener("click",E)})}function G(){const o=document.querySelector(".container");o.innerHTML="";const e=document.querySelector("ul"),c=document.querySelector(".contador");e&&e.remove(),c&&c.remove();for(let a=0;a<30;a++){const t=document.createElement("div");t.classList.add("cartas"),o.appendChild(t)}q()}const I=document.getElementById("startStop"),D=document.getElementById("reset");document.addEventListener("DOMContentLoaded",()=>{q()});I.addEventListener("click",()=>{x(),I.textContent==="Detener"?F():S()});D.addEventListener("click",()=>{B(),S()});D.addEventListener("click",()=>{B(),S(),G()});
