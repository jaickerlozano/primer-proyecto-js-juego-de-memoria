(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))a(t);new MutationObserver(t=>{for(const o of t)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&a(l)}).observe(document,{childList:!0,subtree:!0});function c(t){const o={};return t.integrity&&(o.integrity=t.integrity),t.referrerPolicy&&(o.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?o.credentials="include":t.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function a(t){if(t.ep)return;t.ep=!0;const o=c(t);fetch(t.href,o)}})();const T=()=>`rgb(${Math.floor(Math.random()*255)}, ${Math.floor(Math.random()*255)}, ${Math.floor(Math.random()*255)})`,q=n=>{const e=new Set;for(;e.size<n;)e.add(T());return[...e]},g=(n,e)=>{n.style.background=e},j=()=>document.querySelectorAll(".cartas");let C,y,L=0,p=!1;const w=document.getElementById("display"),v=document.getElementById("startStop");document.getElementById("reset");function J(n){const e=Math.floor(n/1e3),c=String(Math.floor(e/60)).padStart(2,"0"),a=String(e%60).padStart(2,"0"),t=String(n%1e3).padStart(3,"0");return`${c}:${a}:${t}`}function z(){const e=Date.now()-y+L;w.textContent=J(e)}function I(){p?(clearInterval(C),L+=Date.now()-y,v.textContent="Iniciar"):(y=Date.now(),C=setInterval(z,10),v.textContent="Detener"),p=!p}function $(){clearInterval(C),p=!1,L=0,w.textContent="00:00:00"}let f=[],E;const x=()=>{f=j();const n=[...f],e="rgb(51, 51, 51)",c=q(15);let a=new Set,t=new Set,o=new Set,l=0,i="",u="",P=Date.now();const m=document.createElement("ul");m.textContent="Parejas encontradas:",document.querySelector(".container").after(m);const h=document.createElement("p");h.classList.add("contador"),m.before(h),f.forEach(d=>{let s;if(a.size<15){do s=Math.floor(Math.random()*15+1);while(a.has(s));a.add(s)}else{do s=Math.floor(Math.random()*15+1);while(t.has(s));t.add(s)}d.classList.add(`par${s}`),g(d,e)}),E=function(){if(this.classList.contains("turnedCard"))return;const d=[...this.classList].find(r=>r.startsWith("par")),s=parseInt(d.replace("par",""))-1,b=c[s];if(g(this,b),this.textContent=`${s+1}`,this.classList.add("turnedCard"),!i)i=d;else if(u=d,i===u){const r=document.createElement("li");if(r.classList.add("mensaje"),r.textContent=`Has encontrado el par de cartas ${i.replace("par","")}`,m.appendChild(r),o.add(i),l++,h.textContent=`Total encontradas: ${l}`,o.size===15){I();const B=Date.now(),O=Math.floor((B-P)/1e3);alert(`ðŸŽ‰Â¡Ganaste! Tiempo: ${O} segundos`)}i="",u=""}else setTimeout(()=>{n.forEach(r=>{(r.classList.contains(i)||r.classList.contains(u))&&!o.has(r.classList[1])&&(g(r,e),r.textContent="",r.classList.remove("turnedCard"))}),i="",u=""},500)}};function A(){f.forEach(n=>{n.addEventListener("click",E)})}function S(){f.forEach(n=>{n.removeEventListener("click",E)})}function H(){const n=document.querySelector(".container");n.innerHTML="";const e=document.querySelector("ul"),c=document.querySelector(".contador");e&&e.remove(),c&&c.remove();for(let a=0;a<30;a++){const t=document.createElement("div");t.classList.add("cartas"),n.appendChild(t)}x()}const M=document.getElementById("startStop"),D=document.getElementById("reset");document.addEventListener("DOMContentLoaded",()=>{x()});M.addEventListener("click",()=>{I(),M.textContent==="Detener"?A():S()});D.addEventListener("click",()=>{$(),S()});D.addEventListener("click",()=>{$(),S(),H()});
